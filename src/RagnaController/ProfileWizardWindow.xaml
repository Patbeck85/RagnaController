<Window x:Class="RagnaController.ProfileWizardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Profile Wizard" Width="750" Height="600"
        Background="{StaticResource BG1Brush}"
        Foreground="{StaticResource TextHiBrush}"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Grid Margin="25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,25">
            <TextBlock Text="PROFILE WIZARD" FontSize="22" FontWeight="Bold"
                       Foreground="{StaticResource NeonBrush}"
                       Effect="{StaticResource NeonGlow}"/>
            <TextBlock x:Name="StepDescription" Text="Create a custom profile for your playstyle"
                       FontSize="12" Foreground="{StaticResource TextLowBrush}"
                       Margin="0,6,0,0"/>
        </StackPanel>

        <!-- Content -->
        <Border Grid.Row="1" Background="{StaticResource BG2Brush}"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="1"
                CornerRadius="8" Padding="25">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <!-- Step 1: Basic Info -->
                <StackPanel x:Name="Step1Panel" Visibility="Visible">
                    <TextBlock Text="STEP 1: BASIC INFORMATION" FontSize="14" FontWeight="Bold"
                               Foreground="{StaticResource NeonDimBrush}" Margin="0,0,0,20"/>

                    <TextBlock Text="Profile Name:" FontSize="11"
                               Foreground="{StaticResource TextLowBrush}" Margin="0,0,0,6"/>
                    <TextBox x:Name="ProfileNameText" Height="36" Padding="10,8"
                             FontSize="13" Margin="0,0,0,20"/>

                    <TextBlock Text="Class / Playstyle:" FontSize="11"
                               Foreground="{StaticResource TextLowBrush}" Margin="0,0,0,6"/>
                    <ComboBox x:Name="ClassCombo" Height="36" FontSize="13"
                              SelectionChanged="ClassCombo_SelectionChanged"
                              Margin="0,0,0,20">
                        <ComboBoxItem Content="Melee (Knight, Lord Knight, Paladin)" Tag="Melee"/>
                        <ComboBoxItem Content="Ranged (Hunter, Sniper, Dancer, Bard)" Tag="Ranged"/>
                        <ComboBoxItem Content="Mage (Wizard, High Wizard, Sage)" Tag="Mage"/>
                        <ComboBoxItem Content="Support (Priest, High Priest, Monk)" Tag="Support"/>
                        <ComboBoxItem Content="Custom (Start from scratch)" Tag="Custom" IsSelected="True"/>
                    </ComboBox>

                    <TextBlock Text="Description (optional):" FontSize="11"
                               Foreground="{StaticResource TextLowBrush}" Margin="0,0,0,6"/>
                    <TextBox x:Name="DescriptionText" Height="70" Padding="10,8"
                             FontSize="12" TextWrapping="Wrap"
                             AcceptsReturn="True"/>
                </StackPanel>

                <!-- Step 2: Combat Engine -->
                <StackPanel x:Name="Step2Panel" Visibility="Collapsed">
                    <TextBlock Text="STEP 2: COMBAT ENGINE" FontSize="14" FontWeight="Bold"
                               Foreground="{StaticResource NeonDimBrush}" Margin="0,0,0,20"/>

                    <CheckBox x:Name="EnableMeleeCheck" Content="Enable Auto-Target (Melee)"
                              Margin="0,0,0,12" FontSize="13"/>
                    <TextBlock Text="Tab-cycling, auto-attack, auto-retarget for melee classes"
                               FontSize="10" Foreground="{StaticResource TextLowBrush}"
                               Margin="22,0,0,20"/>

                    <CheckBox x:Name="EnableKiteCheck" Content="Enable Kite Engine (Ranged)"
                              Margin="0,0,0,12" FontSize="13"/>
                    <TextBlock Text="5-phase auto-kite cycle for hunters and archers"
                               FontSize="10" Foreground="{StaticResource TextLowBrush}"
                               Margin="22,0,0,20"/>

                    <CheckBox x:Name="EnableMageCheck" Content="Enable Mage System (Magic)"
                              Margin="0,0,0,12" FontSize="13"/>
                    <TextBlock Text="Ground-target and bolt-spam for wizards and sages"
                               FontSize="10" Foreground="{StaticResource TextLowBrush}"
                               Margin="22,0,0,20"/>

                    <CheckBox x:Name="EnableSupportCheck" Content="Enable Support Mode (Healing)"
                              Margin="0,0,0,12" FontSize="13"/>
                    <TextBlock Text="Party heal, buff management, resurrection for priests"
                               FontSize="10" Foreground="{StaticResource TextLowBrush}"
                               Margin="22,0,0,0"/>
                </StackPanel>

                <!-- Step 3: Key Bindings -->
                <StackPanel x:Name="Step3Panel" Visibility="Collapsed">
                    <TextBlock Text="STEP 3: KEY BINDINGS" FontSize="14" FontWeight="Bold"
                               Foreground="{StaticResource NeonDimBrush}" Margin="0,0,0,20"/>

                    <TextBlock Text="Assign common skills to face buttons:"
                               FontSize="12" Foreground="{StaticResource TextLowBrush}"
                               Margin="0,0,0,15"/>

                    <!-- Skill Slots -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="A Button:" VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="AButtonCombo" Height="32"/>
                    </Grid>

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="B Button:" VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="BButtonCombo" Height="32"/>
                    </Grid>

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="X Button:" VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="XButtonCombo" Height="32"/>
                    </Grid>

                    <Grid Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Y Button:" VerticalAlignment="Center"/>
                        <ComboBox Grid.Column="1" x:Name="YButtonCombo" Height="32"/>
                    </Grid>

                    <TextBlock Text="You can customize all buttons after creation"
                               FontSize="10" Foreground="{StaticResource TextLowBrush}"
                               HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- Step 4: Review -->
                <StackPanel x:Name="Step4Panel" Visibility="Collapsed">
                    <TextBlock Text="STEP 4: REVIEW & CREATE" FontSize="14" FontWeight="Bold"
                               Foreground="{StaticResource NeonDimBrush}" Margin="0,0,0,20"/>

                    <Border Background="{StaticResource BG3Brush}"
                            BorderBrush="{StaticResource BorderBrush}" BorderThickness="1"
                            CornerRadius="6" Padding="15" Margin="0,0,0,15">
                        <StackPanel>
                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Profile Name:"
                                           Foreground="{StaticResource TextLowBrush}"/>
                                <TextBlock Grid.Column="1" x:Name="ReviewName" FontWeight="Bold"/>
                            </Grid>

                            <Grid Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Class:"
                                           Foreground="{StaticResource TextLowBrush}"/>
                                <TextBlock Grid.Column="1" x:Name="ReviewClass"/>
                            </Grid>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Combat System:"
                                           Foreground="{StaticResource TextLowBrush}"/>
                                <TextBlock Grid.Column="1" x:Name="ReviewEngine" TextWrapping="Wrap"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <TextBlock Text="✓ Profile will be saved to your profile list"
                               FontSize="11" Foreground="{StaticResource NeonDimBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="✓ You can edit all settings after creation"
                               FontSize="11" Foreground="{StaticResource NeonDimBrush}"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="✓ Button mappings can be customized anytime"
                               FontSize="11" Foreground="{StaticResource NeonDimBrush}"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Navigation -->
        <Grid Grid.Row="2" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Step Indicator -->
            <StackPanel Grid.Column="0" Orientation="Horizontal">
                <Border x:Name="Step1Dot" Width="10" Height="10" CornerRadius="5"
                        Background="{StaticResource NeonBrush}" Margin="0,0,8,0"/>
                <Border x:Name="Step2Dot" Width="10" Height="10" CornerRadius="5"
                        Background="{StaticResource BG3Brush}" Margin="0,0,8,0"/>
                <Border x:Name="Step3Dot" Width="10" Height="10" CornerRadius="5"
                        Background="{StaticResource BG3Brush}" Margin="0,0,8,0"/>
                <Border x:Name="Step4Dot" Width="10" Height="10" CornerRadius="5"
                        Background="{StaticResource BG3Brush}"/>
            </StackPanel>

            <!-- Buttons -->
            <StackPanel Grid.Column="2" Orientation="Horizontal">
                <Button x:Name="BtnBack" Content="← Back"
                        Style="{StaticResource ConsoleGhostBtn}"
                        Width="90" Margin="0,0,10,0" IsEnabled="False"
                        Click="BtnBack_Click"/>
                <Button x:Name="BtnNext" Content="Next →"
                        Style="{StaticResource ConsolePrimaryBtn}"
                        Width="90" Margin="0,0,10,0"
                        Click="BtnNext_Click"/>
                <Button Content="Cancel" Style="{StaticResource ConsoleDangerBtn}"
                        Width="80" Click="BtnCancel_Click"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
